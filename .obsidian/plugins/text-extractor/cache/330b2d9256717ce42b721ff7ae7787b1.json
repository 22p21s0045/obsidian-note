{"path":"Lecture Kmutt/INT206/material/INT206_07_Distributed_DBMS.pdf","text":"INT206 D i st r i b u t e d D B M S Sa n i t S i r i sa w a t va t a n a and S u n i sa Sa t h a p o r n w a j a n a Objectives • C o n ce p t s. • A d va n t a g e s a n d d i sa d va n t a g e s o f d i st r i b u t e d d a t a b a se s. • F u n ct i o n s a n d a r ch i t e ct u r e f o r a D D B M S . • D i st r i b u t e d d a t a b a se d e si g n . • L e ve l s o f t r a n sp a r e n cy . • C o m p a r i so n cr i t e r i a f o r D D B M S s. Concepts • D i st r i b u t e d D a t a b a se • A l o g i ca l l y i n t e r r e l a t e d co l l e ct i o n o f sh a r e d d a t a (a n d a d e scr i p t i o n o f t h i s d a t a ) , p h ysi ca l l y d i st r i b u t e d o ve r a co m p u t e r net w or k . • D i st r i b u t e d D B M S • So f t w a r e syst e m t h a t p e r m i t s t h e ma n a g e me n t of t he d i st r i b u t e d d a t a b a se a n d m a ke s t h e d i st r i b u t i o n t r a n sp a r e n t to u se r s . • Th e o b j e ct i ve o f t r a n sp a r e n cy i s t o m a ke t h e d i st r i b u t e d syst e m a p p e a r l i ke a ce n t r a l i ze d syst e m Distr ibuted DB M SDDB M S Char acter istics • A co l l e ct i o n of l o g i ca l l y re l a t e d sh a r e d dat a • Th e dat a is sp l i t in t o a num ber of fr a g m e n ts • Fr a g m e n ts ma y be r e p l i ca t e d • F r a g m e n t s/ r e p l i ca s ar e a l l o ca t e d to si t e s • Th e si t e s ar e l i n ke d by a co m m u n i ca t i o n s net w or k • Th e dat a at e a ch si t e is under th e co n t r o l of a DB M S • Th e DB M S at e a ch si t e ca n handl e l o ca l a p p l i ca t i o n s a u t o n o m o u sl y • E a ch DB M S p a r t i ci p a t e s in at l e a st one gl obal a p p l i ca t i o n . Concepts • D i st r i b u t e d p r o ce ssi n g • A ce n t r a l i ze d d a t a b a se t h a t ca n b e a cce sse d o ve r a co m p u t e r net w or k • Pa r a l l e l D BM Ss • A D B M S r u n n i n g a cr o ss m u l t i p l e p r o ce sso r s and d i sks t h a t i s d e si g n e d t o e xe cu t e o p e r a t i o n s i n p a r a l l e l in o r d e r t o i m p r o ve p e r f o r m a n ce • P a r a l l e l D B M S s l i n k mu l t i p l e , sm a l l e r m a ch i n e s t o a ch i e ve t h e sa m e t h r o u g h p u t a s si n g l e , l a r g e r m a ch i n e of t en w i t h gr eat er sca l a b i l i t y and re l i a b i l i t y t h a n si n g l e - p r o ce sso r D B M S s. • P a r a l l e l D B M S s p r o vi d e sh a r e d r e so u r ce m a n a g e m e n t fo r a si n g l e d a t a b a se Distr ibuted P r ocessingPa r a l l e l d a t a b a s e a r c h i t e c t u r e (a ) Sh a r e d m e m o r y (b ) S h a r e d d i sk (c ) Sh a r e d n o t h i n g Ad v a n t a g e s o f D D BM Ss • R e f l e ct s o r g a n i za t i o n a l st r u ct u r e • I m p r o ve d sh a r e a b i l i t y a n d l o ca l a u t o n o m y • I m p r o ve d a va i l a b i l i t y • I m p r o ve d r e l i a b i l i t y • I m p r o ve d p e r f o r m a n ce • E co n o m i cs • Mo d u l a r g ro w t h Disadvantages of DDB M S s • C o m p l e xi t y • C o st • S e cu r i t y • I n t e g r i t y co n t r o l m o r e d i f f i cu l t • L a ck o f st a n d a r d s • L a ck o f e xp e r i e n ce • D a t a b a se d e si g n m o r e co m p l e x Ty p e s o f D D B M S s • H o m o g e n e o u s D D B M S s • A l l si t e s u se sa m e D B M S p r o d u ct . • M u ch e a si e r to d e si g n and ma n a g e . • A p p r o a ch p r o vi d e s i n cr e m e n t a l g r o w t h a n d a l l o w s i n cr e a se d p e r f o r m a n ce . • H e t e r o g e n e o u s D D B M S s • S i t e s m a y r u n d i f f e r e n t D B M S p r o d u ct s , w i t h p o ssi b l y di f f er ent u n d e r l yi n g dat a m odel s . • O ccu r s w h e n si t e s h a ve i m p l e m e n t e d t h e i r o w n d a t a b a se s a n d i n t e g r a t i o n i s co n si d e r e d l a t e r . • T yp i ca l so l u t i o n i s t o u se g a t e w a ys , w h i ch co n ve r t t h e l a n g u a g e a n d m o d e l o f e a ch d i f f e r e n t D B M S i n t o t h e l a n g u a g e a n d m o d e l o f t h e r e l a t i o n a l syst e m . Fu n c t i o n s o f D D BM Ss D D B M S s a r e e xp e ct e d t o h a ve f o l l o w i n g f u n ct i o n a l i t y: • E xt e n d e d co m m u n i ca t i o n se r vi ce s. • T o t r a n sf e r q u e r y a n d d a t a a m o n g t h e si t e s u si n g a n e t w o r k • E xt e n d e d D a t a D i ct i o n a r y • T o st o r e d a t a d i st r i b u t i o n d e t a i l • D i st r i b u t e d q u e r y p r o ce ssi n g • I n cl u d i n g q u e r y o p t i m i za t i o n a n d r e m o t e d a t a a cce ss • E xt e n d e d se cu r i t y co n t r o l • T o m a i n t a i n a p p r o p r i a t e a u t h o r i za t i o n / a cce ss p r i vi l e g e s • E xt e n d e d co n cu r r e n cy co n t r o l • T o m a i n t a i n co n si st e n cy o f d i st r i b u t e d / r e p l i ca t e d d a t a • E xt e n d e d r e co ve r y se r vi ce s • T o r e co ve r f a i l u r e s o f i n d i vi d u a l si t e s a n d co m m u n i ca t i o n l i n ks Ar c h i t e c t u r e o f a D D BM SAr c h i t e c t u r e o f a D D BM S • G l o b a l co n ce p t u a l sch e m a • I s a l o g i ca l d e scr i p t i o n o f t h e w h o l e d a t a b a se • C o n t a i n s d e f i n i t i o n s o f e n t i t i e s, r e l a t i o n sh i p s, co n st r a i n t s, se cu r i t y a n d i n t e g r i t y i n f o r m a t i o n • F r a g m e n t a t i o n sch e m a • I s a d e scr i p t i o n o f h o w t h e d a t a i s t o b e l o g i ca l l y p a r t i t i o n e d • A l l o ca t i o n sch e m a • I s a d e scr i p t i o n o f w h e r e t h e d a t a i s t o b e l o ca t e d t a ki n g a cco u n t o f a n y r e p l i ca t i o n • L o ca l sch e m a • E a ch D B M S h a s i t s o w n se t o f sch e m a • L o ca l m a p p i n g sch e m a • M a p s f r a g m e n t s i n t h e a l l o ca t i o n sch e m a i n t o e xt e r n a l o b j e ct s i n t h e l o ca l d a t a b a se Co mp o n e n t A rch ite ctu re fo r a DDB MSCo mp o n e n t A rch ite ctu re fo r a DDB MS F o u r m a j o r co m p o n e n t s: • L o ca l D B M S ( L D B M S ) co m p o n e n t • I s a st a n d a r d D B M S t o co n t r o l t h e l o ca l d a t a a t e a ch si t e t h a t h a s a d a t a b a se • H a s i t s o w n l o ca l syst e m ca t a l o g • D a t a co m m u n i ca t i o n s ( D C ) co m p o n e n t • I s t h e so f t w a r e t h a t e n a b l e s a l l si t e s t o co m m u n i ca t e w i t h e a ch o t h e r • C o n t a i n s i n f o r m a t i o n a b o u t t h e si t e s a n d t h e l i n k • G l o b a l syst e m ca t a l o g ( G S C ) • I s t h e syst e m ca t a l o g o f d i st r i b u t e d syst e m • H o l d s i n f o r m a t i o n su ch a s t h e f r a g m e n t a t i o n , r e p l i ca t i o n a n d a l l o ca t i o n sch e m a • D i st r i b u t e d D B M S ( D B M S ) co m p o n e n t • I s t h e co n t r o l l i n g u n i t o f e n t i r e syst e m Distrib u te d Re la tio n a l Da ta b a se De sig n T h r e e m a i n co n ce p t s • Fr a g m e n ta ti o n • A r e l a t i o n m a y b e d i vi d e d i n t o a num ber of su b r e l a t i o n s, ca l l e d fr a g m e n ts , w h i ch a r e t h e n d i st r i b u t e d • Ca n b e h o r i zo n t a l or ve r t i ca l fr a g m e n ts • A l l o ca t i o n • E a ch f r a g m e n t i s st o r e d a t t h e si t e w i t h o p t i m a l d i st r i b u t i o n • R e p l i ca t i o n • D D B M S m a y m a i n t a i n a co p y o f a f r a g m e n t a t se ve r a l d i f f e r e n t si t e s Distrib u te d Re la tio n a l Da ta b a se De sig n T h e d e f i n i t i o n a n d a l l o ca t i o n o f f r a g m e n t s m u st f o cu s to a ch i e ve t h e f o l l o w i n g o b j e ct i ve s: • L o ca l i t y o f r e f e r e n ce • S t o r e d a t a cl o se t o w h e r e i t i s u se d • I m p r o ve d r e l i a b i l i t y a n d a va i l a b i l i t y • I s i m p r o ve d b y r e p l i ca t i o n • A cce p t a b l e p e r f o r m a n ce • A vo i d t h e b o t t l e n e cks a n d u n d e r u t i l i za t i o n o f r e so u r ce s • B a l a n ce d st o r a g e ca p a ci t i e s a n d co st s • M i n i m a l co m m u n i ca t i o n co st s Data allocation F o u r st r a t e g i e s f o r t h e p l a ce m e n t o f d a t a • C e n t r a l i ze d • L o ca l i t y o f r e f e r e n ce i s a t t h e l o w e st a s a l l si t e s ( e xce p t t h e ce n t r a l si t e ) • C o m m u n i ca t i o n co st i s h i g h • Fr a g m e n te d ( o r p a r ti ti o n e d ) • L o ca l i t y o f r e f e r e n ce i s h i g h • S t o r a g e co st s a r e l o w ( n o r e p l i ca t i o n ) • R e l i a b i l i t y a n d a va i l a b i l i t y a r e l o w • P e r f o r m a n ce sh o u l d b e g o o d a n d co m m u n i ca t i o n co st s l o w Data allocation • C o m p l e t e r e p l i ca t i o n • L o ca l i t y o f r e f e r e n ce , r e l i a b i l i t y a n d a va i l a b i l i t y a n d p e r f o r m a n ce a r e m a xi m i ze d • S t o r a g e co st s a n d co m m u n i ca t i o n co st a r e t h e m o st e xp e n si ve • S e l e ct i ve r e p l i ca t i o n • I s a co m b i n a t i o n o f f r a g m e n t a t i o n , r e p l i ca t i o n , a n d ce n t r a l i za t i o n • So m e d a t a i t e m ar e f r agm ent ed t o a ch i e ve h i g h l o ca l i t y o f r e f e r e n ce • D a t a a r e u se d a t m a n y si t e s a n d a r e n o t f r e q u e n t l y u p d a t e d a r e r e p l i ca t e d • O t h e r d a t a i t e m s a r e ce n t r a l i ze d • I s t h e m o st co m m o n u se d st r a t e g y b e ca u se o f i t s f l e xi b i l i t y Co mp a riso n o f stra te g ie s fo r d a ta a llo ca tio n Fr a g m e n t a t i o n R e a so n s f o r f r a g m e n t i n g a r e l a t i o n • U sa g e • A p p l i ca t i o n u se s so m e d a t a r a t h e r t h a n e n t i r e r e l a t i o n s • E f f i ci e n cy • D a t a i s st o r e d cl o se t o w h e r e i t i s m o st f r e q u e n t l y u se d • P a r a l l e l i sm • A l l o w a t r a n sa ct i o n ca n b e d i vi d e d i n t o se ve r a l su b q u e r i e s t h a t oper at e on f r agm ent s • S e cu r i t y • D a t a n o t r e q u i r e d b y l o ca l a p p l i ca t i o n i s n o t st o r e d a n d n o t a va i l a b l e t o u n a u t h o r i ze d u se r s Fr a g m e n t a t i o n I t h a s t w o p r i m a r y d i sa d va n t a g e s • P e r f o r m a n ce • G l o b a l a p p l i ca t i o n s r e q u i r e d a t a f r o m se ve r a l f r a g m e n t s l o ca t e d a t d i f f e r e n t si t e s m a y b e sl o w e r • In te g r i ty • I n t e g r i t y co n t r o l m a y b e m o r e d i f f i cu l t b e ca u se o f f r a g m e n t e d d a t a a t d i f f e r e n t si t e s Cor r ectness of fr agm entation T h r e e r u l e s t h a t m u st b e f o l l o w e d d u r i n g f r a g m e n t a t i o n : • C o m p l e t e n e ss ( n o l o ss o f d a t a ) • R = R 1 U R 2 U R 3 … U R n • E a ch R i f r a g m e n t m u st b e a p p e a r a t l e a st o n e f r a g m e n t • R e co n st r u ct i o n ( f u n ct i o n a l d e p e n d e n ci e s ) • M u st b e p o ssi b l e t o d e f i n e a r e l a t i o n a l o p e r a t i o n t o r e co n st r u ct R fr o m th e fr a g m e n ts • H o r i zo n t a l f r a g m e n t – > U n i o n o p e r a ti o n • V e r t i ca l f r a g m e n t - > Jo i n o p e r a t i o n • D i sj o i n t n e ss ( m i n i m a l d a t a r e d u n d a n cy ) • R i ∩ R j = { } e m p t y se t ( i = 1 ..n , j = 1 ..n , i <>j ) • N o d a t a i t e m i n f r a g m e n t a p p e a r i n a n y o t h e r f r a g m e n t • E xce p t f o r t h e ve r t i ca l f r a g m e n t a t i o n , t h e p r i m a r y ke y a t t r i b u t e s a r e r e p e a t e d f o r r e co n st r u ct i o n Ty p e s o f F r a g m e n t a t i o n F o u r t yp e s o f f r a g m e n t a t i o n a) H o r i zo n t a l b) V e r t i ca l c) M i xe d d) D e r i ve d ( c) 26 Ho r iz o n t a l Fr a g m e n t a t i o n • C o n si st s of a su b se t of th e tu p l e s of a re l a t i o n . • De f in e d u si n g S e l e ct i o n oper at i on of re l a t i o n a l al gebr a : s p (R ) • Fo r e xa m p l e : P 1 = s ty p e = ‘ H o u s e ’ ( P r o p e r t yF o r R e n t ) P 2 = s ty p e = ‘ F l a t’ ( P r o p e r t yF o r R e n t ) C o m p l e t e n e ss : R = P 1 U P 2 R e co n st r u ct i o n : U si n g th e Un io n oper at i on D i sj o i n t n e ss : No pr oper t y t yp e th a t is bot h ‘ H o u se ’ and ‘F la t ’ 27 Ve r t i c a l Fr a g m e n t a t i o n • C o n si st s of a su b se t of attr i butes of a re l a t i o n . • De f in e d u si n g P r o j e ct i o n oper ati on of re l a t i o n a l al gebr a : Õ a 1 , ... ,a n (R ) • Fo r e xa m p l e : S 1 = Õ st a f f N o , pos i t i on, se x, DO B , sa l a r y (S t a f f ) S 2 = Õ st a f f N o , fN a m e , lN a m e , br anc hN o (S t a f f ) • De t e r m in e d by e st a b l i sh i n g affi ni ty of one attr i bute to another . • C o m p l e t e n e ss : R = S 1 S 2 • R e co n st r u ct i o n : U si n g the Jo i n oper ati on • D i sj o i n t n e ss : Fra g me n t s ar e d i sj o i n t e xce p t for the pr i m ar y ke y for r e co n st r u ct i o n 28 Mi x e d Fr a g m e n t a t i o n • C o n si st s of a h o r i zo n t a l fr a g m e n t th a t is ve r t i ca l l y fr a g m e n te d , or a ve r t i ca l fr a g m e n t th a t is h o r i zo n t a l l y fr a g m e n te d . • De f in e d u si n g S e l e ct i o n and P r o j e ct i o n oper at i ons of re l a t i o n a l al gebr a : s p ( Õ a 1 , ... ,a n (R )) or Õ a 1 , ... ,a n ( σ p (R )) 29 Ex a m p l e - Mi x e d Fr a g m e n t a t i o n S 1 = Õ st a f f N o , p o si t i o n , se x, DO B, sa l a r y (S t a f f ) S 2 = Õ st a f f N o , fN a me , lNa m e , b r a n ch N o (S t a f f ) S 21 = s b r a n ch N o =‘ B 003 ’ (S 2 ) S 22 = s b r a n ch N o =‘ B 005 ’ (S 2 ) S 23 = s b r a n ch N o =‘ B 007 ’ (S 2 ) • C o m p l e t e n e ss : R = S 1 (S 21 U S 22 U S 23 ) • R e co n st r u ct i o n : U si n g th e Un io n and Jo i n oper at i on • D i sj o i n t n e ss : Fr a g m e n ts ar e d i sj o i n t ; No st a f f me mb e r wh o w o r ks in mo re th a n one b r a n ch and S 1 and S 2 ar e d i sj o i n t e xce p t fo r th e d u p l i ca t i o n of pr i m ar y ke y 30 De r iv e d Ho r iz o n t a l Fr a g m e n t a t i o n • A h o r i zo n t a l fr a g m e n t th a t is b a se d on h o r i zo n t a l fr a g m e n ta ti o n of a par ent re l a t i o n . • E n su r e s th a t fr a g m e n ts th a t ar e fr e q u e n tl y jo in e d to g e th e r ar e at sa m e si t e . • De f in e d u si n g Se m i j o i n oper at i on of re l a t i o n a l al gebr a : R i = R F S i , 1 £ i £ w 31 Ex a m pl e - De r i v e d Ho r i z o n t a l Fr a gm e nt a t i on S 3 = s b r a n ch N o =‘ B 003 ’ (S t a f f ) S 4 = s b r a n ch N o =‘ B 005 ’ (S t a f f ) S 5 = s b r a n ch N o =‘ B 007 ’ (S t a f f ) Co u ld u se d e r i ve d fr a g m e n ta ti o n fo r Pr o p e r t y : P i = P r o p e r t yF o r R e n t b r a n ch N o S i , 3 £ i £ 5 33 Dis t r ib u t e d Da t a b a s e De s ig n M e t h o d o lo g y 1. U se nor m al me t h o d o l o g y to p r o d u ce a d e si g n fo r th e gl obal re l a t i o n s . 2. E xa m i n e to p o l o g y of syst e m to det er m i ne wh e r e d a t a b a se s will be l o ca t e d . 3. A n a l yze m o st im p o r t a n t t r a n sa ct i o n s and id e n t if y a p p r o p r i a t e n e ss of h o r i zo n t a l / ve r t i ca l fr a g m e n ta ti o n . 4. D e ci d e w h i ch re l a t i o n s ar e not to be fr a g m e n te d . 5. E xa m i n e re l a t i o n s on 1 si d e of r e l a t i o n sh i p s and det er m i ne a su i t a b l e fr a g m e n ta ti o n sch e m a . Re la t io n s on ma n y si d e ma y be su i t a b l e fo r d e r i ve d fr a g m e n ta ti o n . P e a r s on E duc a t i on © 2009 Tr a n s p a r e n c i e s i n D D B M S • De f in it io n o f DDB M S • T h e syst e m sh o u l d m a ke d i st r i b u t i o n t r a n sp a r e n t t o t h e u se r • T r a n sp a r e n cy h i d e s i m p l e m e n t a t i o n d e t a i l s f o r m t h e u se r • D D B M S m a y p r o vi d e va r i o u s l e ve l s o f t r a n sp a r e n cy . • T o m a ke u se o f t h e d i st r i b u t e d d a t a b a se e q u i va l e n t t o th a t o f a ce n t r a l i ze d d a t a b a se • F o u r m a i n t yp e s o f t r a n sp a r e n cy i n a D D B M S • D i st r i b u t i o n t r a n sp a r e n cy • T r a n sa ct i o n t r a n sp a r e n cy • P e r f o r m a n ce t r a n sp a r e n cy • D B M S t r a n sp a r e n cy Distr ibution T r anspar ency • A l l o w s t h e u se r t o p e r ce i ve t h e d a t a b a se a s si n g l e , l o g i ca l enti ty • F r a g m e n t a t i o n t r a n sp a r e n cy • T h e u se r d o e s n o t n e e d t o kn o w t h e d a t a i s fr a g m e n te d • L o ca t i o n t r a n sp a r e n cy • T h e u se r n e e d s t o kn o w t h a t t h e d a t a i s fr a g m e n te d b u t d o e s not need t o kn o w th e l o ca t i o n of dat a i t em s • R e p l i ca t i o n t r a n sp a r e n cy • T h e u se r i s unaw ar e of t he r e p l i ca t i o n of f r agm ent s • I s cl o se l y r e l a t e d t o l o ca t i o n t r a n sp a r e n cy • L o ca l m a p p i n g t r a n sp a r e n cy • T h e u se r n e e d s t o kn o w t h a t t h e d a t a i s fr a g m e n te d and t he l o ca t i o n of fr a g m e n ts Ex a m p l e • F r a g m e n t a t i o n t r a n sp a r e n cy SEL ECT fN a me , lNa m e FR O M S t af f W H E R E p o si t i o n = ‘ M a n a g e r ’ ; • L o ca t i o n t r a n sp a r e n cy SEL ECT fN a me , lNa m e FR O M S 21 WH E R E st a f f N o IN (S E L E C T st a f f N o F R O M S 1 W H E R E p o si t i o n = ‘ M a n a g e r ’ ) UNI O N SEL ECT fN a me , lNa m e FR O M S 22 WH E R E st a f f N o IN (S E L E C T st a f f N o F R O M S 1 W H E R E p o si t i o n = ‘ M a n a g e r ’ ) UNI O N SEL ECT fN a me , lNa m e FR O M S 23 WH E R E st a f f N o IN (S E L E C T st a f f N o F R O M S 1 W H E R E p o si t i o n = ‘ M a n a g e r ’ ) ; Ex a m p l e • L o ca l m a p p i n g t r a n sp a r e n cy SELEC T fNam e , lNa me FROM S2 1 @ SITE3 WHE RE st a f f N o IN ( SELECT st a f f N o FROM S1 @ SITE5 WHE RE p o si t i o n = ‘ M a n a g e r ’ ) UNION SELEC T fNam e , lNa me FROM S2 2 @ SITE5 WHE RE st a f f N o IN ( SELECT st a f f N o FROM S1 @ SITE5 WHE RE p o si t i o n = ‘ M a n a g e r ’ ) UNION SELEC T fNam e , lNa me FROM S2 3 @ SITE7 WHE RE st a f f N o IN ( SELECT st a f f N o FROM S1 @ SITE5 WHE RE p o si t i o n = ‘ M a n a g e r ’ )","libVersion":"0.3.1","langs":""}