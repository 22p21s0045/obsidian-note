{"path":"Lecture Kmutt/INT204/materials/06-INT204-Spring-Rest-Api-DTO.pdf","text":"Sp r in g R E S T fu l A PI DT O By Pi ch e t L i m v a j i r a n a n S p r i n g B o o t L a y e r A r ch i t e ct u r e s Co n t r o lle r Bu s i n e s s L o g i c ( Se r vi c e C l a s s ) Pe r s i s t e n c e ( Re p o s i t o r y C l a s s ) Pr e s e n t a t io n En t it y En t it y JS O N DT O : D at a T ra n s f e r O b j e ct Cus t o me r Cus t o me r Ty p e 1 Cus t o me r Ty p e 2 Cus t o me r Ty p e n map p e r Fr o n t - en d Co n t r o l l er Se r vi c e Re p o s i t o r y • DT O s n o r m a l l y a r e c r e a t e d a s PO J O s . • Th e d a t a i s m a p p e d f r o m t h e do m a i n m o de l s to t h e D T O s . • B y u s i n g D T O s , w e c a n p r o v i d e a s m a n y d i f f e r e n t v e r s i o n s ( w i t h di f f e r e n t s t r uc t ur e s ) o f o ur e n t i t i e s a s w e w a n t . En t i t y En t i t y En t i t y DT O DT O : D at a T ra n s f e r O bj e c t Fr o n t - en d Co n t r o l l er Se r vi c e Cus t o me r Cus t o me r In f o map p e r Em p l o y e e Pa y m e n t Re p o s i t o r y An o t h e r a d v a n t a g e o f u s i n g D T O s o n R E S T f u l API s i s t h a t t h e y c a n h e l p h i d i n g imp le me n t a t io n d e t ails o f d o main o b j e c t s ( ak a. e n t it ie s ) . E x p o s in g e n t it ie s th r o u g h e n d p o i n ts c a n b e c o m e a s e c u r i ty i s s u e i f w e d o n o t c a r e f u l l y h a n d l e wh a t p r o p e r t i e s c a n b e c h a n g e d t h r o u g h wh a t o p e r a t i o n s . DT O i s a d e s i g n p a t t e r n co n c e i v e d t o r e d u c e t h e n u m b e r o f ca l l s wh e n w o r k in g wit h r e m o t e in t e r f ace s . Se r vi c e L a y e r @S er v i c e publ i c c l a s s Cu s t o m er S er v i c e { @ Au t o w i r e d pr i v a t e Cu s t o m er R ep o s i t o r y re p o s i t o r y ; publ i c Si m p l e Cu s t o m e r D T O ge t S i m p l e C u s t o m e r B y I d ( In t e g e r id ) { re t u r n re p o s i t o r y .f i n d B y I d (i d) .m a p ( c u s t o m e r - > co n v e r t E n t i t y T o D t o (c us t o m e r )) . or E l s e T h r o w (() - > ne w Re s p o n s e S t a t u s E x c e p t i o n ( Ht t p S t a t u s . NO T _ F O U ND , id + \" D o es N o t E x i s t ! ! ! \" )); } pr i v a t e Si m p l e Cu s t o m e r D T O co n v e r t E n t i t y T o D t o ( Cu s t o m er cu s t om e r ) { Si mp l e C u s t o me r D T O si m p l e C u s t o m e rD T O = ne w Si mp l e C u s t o me r D T O (); si m p l e C u s t o m e rD T O .se tC u s t o m e rN a m e ( cu s t om e r . g e t C u s t om e r N am e ()); : si m p l e C u s t o m e rD T O .se tS a l e sP e r so n ( cu s t om e r . g e t S ale s R e p E m p lo y e e (). ge t F i r s t N a m e () + ' ' + cu s t om e r . g e t S ale s R e p E m p lo y e e (). ge t L a s t N a m e ()); re t u r n si m p l e C u s t o m e rD T O ; } } @G e t t er @S e t t er publ i c c l a s s Si mp l e C u s t o me r D T O { pr i v a t e St r i n g cu s t om e r N am e ; pr i v a t e St r i n g pho ne ; pr i v a t e St r i n g cit y ; pr i v a t e St r i n g co u n t r y ; pr i v a t e St r i n g sa l e sP e r so n ; } @ Ge t M a p p i n g ( \"/ { id } \" ) publ i c Si m p l eC u s t o m er D T O ge t C u s t o m e r B y I d ( @ Pa t h V a r i a b l e In t e g e r id ) { re t u r n cu s t o m e r S e r v i ce .g e t S i m p l e C u s t o m e r B y I d (i d ); } Mo de l Ma ppe r L i br a r y • To av o i d h a v i n g t o w r i t e c u m b e r so m e / b o i l e r p l a t e c o d e t o m a p D T O s i n t o e n t i t i e s a n d v i c e - v e r s a , w e a r e g o i n g t o u s e a l i b r a r y c a l l e d Mo d e l Map p e r . • T h e g o a l o f Mo d e l Ma p p e r i s t o m a k e o b j e c t m a p p i n g e a s y b y au t om a tic ally de t e r mi ni ng h o w o n e o b j e c t m o d e l m a p s t o a n o t h e r . • T h i s l i b r a r y i s q u i t e p o w e r f u l a n d a c c e p t s a w h o l e b u n c h o f c o n f i g u r a t i o n s t o s t r e a m l i n e t h e m a p p i n g p r o c e s s , b u t i t a l s o f a v o r s c o n v e n t i o n o v e r c o n f i g u r a t i o n b y p r o v i d i n g a d e f a u l t b e h a v i o r t h a t f i t s m o s t c a s e s . < de pe nde nc y > < g r o upI d > o r g . m o de l m a ppe r </ g r o upI d > < ar tif actI d > m o de l m a ppe r </ ar tif actI d > < ve r s i o n >3 . 1 . 1 </ ve r s i o n > </ de pe nde nc y > Mo de l Ma ppe r: H o w i t w o rk s ? • Mo de l Ma ppe r co n s i s t s o f t w o s e p a r a t e p r o c e s s e s • T h e m a t c h i n g p r o c e s s • I de n t i f y i ng e l i g i bl e pr o pe r t i e s , t r a ns f o r m i ng a nd t o k e ni z i ng t he i r na m e s . • Ac c e s s L ev e l s an d Namin g C o n v e n t io n s (T y pe M a ppi ng ). • Me t h o d s a r e e l i g i b l e b a s e d o n c o n f i g u r e d • El i g i b l e me t h o d s t ak e p r e c e d e n c e o v e r f i e l d s wit h t h e s am e t r an s f o r m e d p r o p e r t y n am e . • Onl y so u r c e m e th o d s w i th ze r o p a r a m e t e r s an d a n o n - vo i d re t u r n t y p e a re elig ib le. • Th e m a p p i n g p r o c e s s • M a t c he d pr o pe r t y v a l ue s a r e c o n v e r t e d f r o m a s o ur c e t o de s t i na t i o n o bj e c t . • If a T y pe M a p e x i s t s f o r t he s o ur c e a nd de s t i na t i o n t y pe s , m a ppi ng w i l l o c c ur a c c o r di ng t o t he M a ppi ng s de f i ne d i n t he T y pe M a p . • E l s e i f a C o n v e r t e r e x i s t s t ha t i s c a pa bl e o f c o n v e r t i ng t he s o ur c e o bj e c t t o t he de s t i na t i o n t y pe , m a ppi ng w i l l o c c ur us i ng t he C o n v e r t e r . Cu s t om e r t o Si m p l e C u t o m e rD T O @E n t i t y publ i c c l a s s Cu s t o m er { @I d pr i v a t e In t e g e r id ; pr i v a t e St r i n g cu s t om e r N am e ; : : pr i v a t e St r i n g po s t a l C o de ; pr i v a t e St r i n g co u n t r y ; pr i v a t e Bi g D e c i m a l cr e d it L im it ; @ Js on I g n or e @ Ma n y T o O n e (f e t c h = Fe t c h T y p e . EA G E R ) @ Join C olu m n (na m e = \" sa l e sR e p Em p l o y e e N u m b e r \" ) pr i v a t e Em p l o y e e sa l e sR e p Em p l o y e e ; @ On e T o M a n y ( ma p p e d B y = \"c u s t o m er \" ) pr i v a t e Se t < Pa y m e n t > pa y m e n t s = ne w Li n k e d H a s h S e t <>( ) ; @ On e T o M a n y ( ma p p e d B y = \" cu s t om e r N u m b e r \" ) pr i v a t e Se t < Or d e r > or d e r s = ne w Li n k e d H a s h S e t <>( ) ; } @G e t t e r @S e t t e r publ i c c l a s s S i m pl e C us t o m e r D T O { pr i v a t e S t r i ng c us t o m e r N a m e ; pr i v a t e S t r i ng pho ne ; pr i v a t e S t r i ng cit y ; pr i v a t e S t r i ng c o un t r y ; } El i g i bl e me tho ds @E n t i t y publ i c c l a s s Cu s t o m er { @I d pr i v a t e In t e g e r id ; pr i v a t e St r i n g cu s t om e r N am e ; : : pr i v a t e St r i n g po s t a l C o de ; pr i v a t e St r i n g co u n t r y ; pr i v a t e Bi g D e c i m a l cr e d it L im it ; @ Js on I g n or e @ Ma n y T o O n e (f e t c h = Fe t c h T y p e . EA G E R ) @ Join C olu m n (na m e = \" sa l e sR e p Em p l o y e e N u m b e r \" ) pr i v a t e Em p l o y e e sa l e sR e p Em p l o y e e ; @ On e T o M a n y ( ma p p e d B y = \"c u s t o m er \" ) pr i v a t e Se t < Pa y m e n t > pa y m e n t s = ne w Li n k e d H a s h S e t <>( ) ; @ On e T o M a n y ( ma p p e d B y = \" cu s t om e r N u m b e r \" ) pr i v a t e Se t < Or d e r > or d e r s = ne w Li n k e d H a s h S e t <>( ) ; } @G e t t e r @S e t t e r publ i c c l a s s S i m pl e C us t o m e r D T O { pr i v a t e S t r i ng c us t o m e r N a m e ; pr i v a t e S t r i ng pho ne ; pr i v a t e S t r i ng cit y ; pr i v a t e S t r i ng c o un t r y ; publ i c S t r i ng ge t C o un t r y () { r e t ur n “ S o m e t hi ng ” ; } } Us i n g Mo d e l Ma p p e r @ Au t o w i r e d pr i v a t e Cu s t o m er S er v i c e se r v i c e ; @ Ge t M a p p i n g ( \"/ { i d } \" ) publ i c Si mp l e C u s t o me r D T O ge t C u s t o m e r B y I d ( @ Pa t h V a r i a b l e In t e g e r id ) { re t u r n se r v i c e .g e t S i m p l e C u s t o m e r B y I d (i d); } @S er v i c e publ i c c l a s s Cu s t o m er S er v i c e { @ Au t o w i r e d pr i v a t e Cu s t o m er R ep o s i t o r y re p o s i t o r y ; @ Au t o w i r e d pr i v a t e Mo d e l Ma p p e r mo d e l Ma p p e r ; publ i c Si mp l e Cu s t o me rD T O ge t C u s t o m e r ( in t cu s t om e r I d ) { Cu s t o m er cu s t om e r = re p o s i t o r y .f i n d B y I d ( cu s t om e r I d ) . or E l s e T h r o w (() - > ne w Re s p o n s e S t a t u s E x c e p t i o n ( Ht t p S t a t u s . NO T _ F O U ND , cu s t om e r I d + \" d o es n o t e x i s t ! ! ! \" )); re t u r n mo d e l Ma p p e r .m a p ( cu s t o m e r , Si mp l e C u s t o me r D T O . clas s ); } mo d e l Ma p p e r . map ( en t it y O b j ec t , DT O C l a s s . clas s ); Deep / Nes t ed M a p p i n gs @S e t t e r @Ge t t e r publ i c c l a s s S i m pl e E m pl o y e e D T O { pr i v a t e S t r i ng las tN am e ; pr i v a t e S t r i ng fi r s t N a me ; } publ i c c l a s s S i m pl e C us t o m e r D T O { pr i v a t e S t r i ng c us t o m e r N a m e ; pr i v a t e S t r i ng pho ne ; pr i v a t e S t r i ng cit y ; pr i v a t e S t r i ng c o un t r y ; pr i v a t e S i m pl e E m pl o y e e D T O s a l e s R e pE m pl o y e e ; } { \" customerName \" : \"Atelier graphique \" , \"phone\" : \"40.32.2555\" , \"city\" : \"Nantes\" , \"country\" : \"France\" , \" salesRepEmployee \" : { \" lastName \" : \"Hernandez\" , \" firstName \" : \"Gerard\" } } Deep M a p p i n gs ( 2) @S e t t e r @Ge t t e r publ i c c l a s s S i m pl e E m pl o y e e D T O { pr i v a t e S t r i ng las tN am e ; pr i v a t e S t r i ng fi r s t N a me ; } publ i c c l a s s S i m pl e C us t o m e r D T O { pr i v a t e S t r i ng c us t o m e r N a m e ; pr i v a t e S t r i ng pho ne ; pr i v a t e S t r i ng cit y ; pr i v a t e S t r i ng c o un t r y ; pr i v a t e S t r i ng sa l e sR e p E m p l o y e e Fi r s t N a m e ; pr i v a t e S t r i ng sa l e sR e p E m p l o y e e La s t N a m e ; } { \" cu s t o m e r N a m e \": \"A t e lie r gr ap h iq u e \", \"p h o n e \": \"4 0 . 3 2 . 2 5 5 5 \", \"c it y \": \"N an t e s \", \"c o u n t r y \": \"F r an c e \", \" sa l e sR e p E m p l o y e e F i r s t N a m e \": \"G e r ar d \", \" sa l e sR e p E m p l o y e e L a s t N a m e \": \"H e r n an d e z \" } De e p M a ppi ng s ( 3 ) @S e t t er @G e t t er publ i c c l a s s Si mp l e E mp l o y e e D T O { pr i v a t e St r i n g las t Nam e ; pr i v a t e St r i n g fir s t N am e ; publ i c St r i n g ge t N a m e () { re t u r n fir s t N am e + \" \" + las t Nam e ; } } publ i c c l a s s S i m pl e C us t o m e r D T O { pr i v a t e S t r i ng c us t o m e r N a m e ; pr i v a t e S t r i ng pho ne ; pr i v a t e S t r i ng cit y ; pr i v a t e S t r i ng c o un t r y ; @ J s o nI g no r e pr i v a t e S i m pl e C us t o m e r D T O s a l e s R e pE m pl o y e e ; publ i c S t r i ng ge t S a l e s P e r s o n () { r e t ur n s a l e s R e pE m pl o y e e == nul l ? \" - \" : s a l e s R e pE m pl o y e e .g e t N a m e (); } } { \" customerName \": \"Atelier graphique \", \"phone\": \"40.32.2555\", \"city\": \"Nantes\", \"country\": \"France\", \" salesPerson \": \"Gerard Hernandez\" } E x e r c i se (1 ) C r ea t e C u s t o mer D T O pa c k a g e si t . i n t 2 0 4 . c l a ssi c m o d e l sse r v i c e . d t o s @ G e t t e r @ S e t t e r publ i c c l a s s S i m p l e C u s t o m e rD T O { p ri v a t e S t ri n g c u s t o m e rN a m e ; p ri v a t e S t ri n g pho ne ; p ri v a t e S t ri n g ci t y ; p ri v a t e S t ri n g co u n t r y ; p ri v a t e S t ri n g sa l e sP e r so n ; } • Add De pe nde ncy t o M a v e n • De f i n e d B e a n f o r Mo de l Ma ppe r (i n b a s e p a c k a g e ) Se t u p M o d el M a p p er < de pe nde nc y > < g r o upI d > o r g . m o de l m a ppe r </ g r o upI d > < ar tif actI d > m o de l m a ppe r </ ar tif actI d > < ve r s i o n >3 . 1 . 1 </ ve r s i o n > </ de pe nde nc y > @ C o n f i g ur a t i o n publ i c c l a s s A ppl i c a t i o nC o n f i g { @Be a n publ i c M o de l M a ppe r m o de l M a ppe r () { r e t ur n ne w M o de l M a ppe r (); } } Us i ng Mo de l Ma ppe r i n s t e a d cu s t o m m a p p e r @S er v i c e publ i c c l a s s Cu s t o m er S er v i c e { @ Au t o w i r e d pr i v a t e Cu s t o m er R ep o s i t o r y re p o s i t o r y ; publ i c Cu s t o m er ge t C u s t o m e r B y I d ( In t e g e r cu s t om e r I d ) { re t u r n re p o s i t o r y .f i n d B y I d ( cu s t om e r I d ). or E l s e T h r o w (() - > ne w Re s p o n s e S t a t u s E x c e p t i o n ( Ht t p S t a t u s . NO T _ F O U ND , \"Cu s t o m er i d \" + cu s t om e r I d + \"D o es N o t E x i s t ! ! ! \" )); } } @ Re s t C o n t r o l l e r publ i c c l a s s Cu s t o m er Co n t r o l l er { @ Au t o w i r e d pr i v a t e Cu s t o m er S er v i c e se r v i c e ; @ Au t o w i r e d pr i v a t e Mo d e l Ma p p e r mo d e l Ma p p e r ; @ Ge t M a p p i n g (“ /{ cu s t om e r I d }”) publ i c Si mp l e C u s t o me r D T O ge t S i m p l e C u s t o m e r B y I d ( @ Pa t h V a r i a b l e In t e g e r cu s t om e r I d ) { re t u r n mo d e l Ma p p e r .m a p ( se r v i c e . g e tC u s t o m e rB y Id ( cu s t om e r I d ) , Si mp l e C u s t o me r . c l a s s ); } } { \" customerName \" : \" Blauer See Auto, Co.\" , \"phone\" : \"+49 69 66 90 2555\" , \"city\" : \"Frankfurt\" , \"country\" : \"Germany\" , \" salesPerson \" : null } De e p Ma p p i n g ( T e s t i n g f o r e a c h D T O ) @S e t t e r @G e t t e r publ i c c l a s s S i m pl e E m pl o y e e D T O { pr i v a t e S t r i ng las tN am e ; pr i v a t e S t r i ng fi r s t N a me ; } @S e t t e r @G e t t e r publ i c c l a s s S i m pl e E m pl o y e e D T O { pr i v a t e S t r i ng las tN am e ; pr i v a t e S t r i ng fi r s t N a me ; publ i c S t r i ng ge t N a m e () { r e t ur n fi r s t N a me + \" \" + las tN am e ; } } @S e t t e r publ i c c l a s s S i m pl e E m pl o y e e D T O { pr i v a t e S t r i ng las tN am e ; pr i v a t e S t r i ng fi r s t N a me ; publ i c S t r i ng ge t N a m e () { r e t ur n fi r s t N a me + \" \" + las tN am e ; } } @G e t t er @S e t t er publ i c c l a s s Si mp l e C u s t o me r D T O { pr i v a t e St r i n g cu s t om e r N am e ; : pr i v a t e Si mp l e E mp l o y e e D T O sa l e sR e p Em p l o y e e ; } 1 3 2 Mo d i f y Si m p l e Cu s t o m e r D T O @G e t t er @S e t t er publ i c c l a s s Si mp l e C u s t o me r D T O { pr i v a t e St r i n g cu s t om e r N am e ; : pr i v a t e St r i n g sa l e sR e p Em p l o y e e F i r s tN a m e ; pr i v a t e St r i n g sa l e sR e p Em p l o y e e L a s tN a m e ; } @G e t t e r @S e t t e r publ i c c l a s s S i m pl e C us t o m e r D T O { pr i v a t e S t r i ng c us t o m e r N a m e ; : @ J s o nI g no r e pr i v a t e S i m pl e E m pl o y e e D T O sa l e s ; publ i c S t r i ng ge t S a l e s P e r s o n () { r e t ur n sa l e s == nul l ? \" - \" : sa l e s .g e t N a m e (); } } C o l l e c t i o n M a p p i n g Ma ppi ng L i s ts w i th Mo de l Ma ppe r Li s t < Em p l o y e e D T O > dt o s = em p l o y ees .s tr e a m( ) .ma p ( em p l o y ee - > mo de l M a ppe r .ma p ( em p l o y ee , Em p l o y e e D T O . cla s s )) . c ol l e ct ( Co l l e c t o r s . t o L i s t ()); @ Ge t Ma p p i n g ( \"\" ) publ i c Li s t < Em p l o y eeD T O > ge t E m p l o y e e s () { Li s t < Em p l o y ee > em p l o y eeLi s t = re p o s i t o r y .f i n d A l l (); r e t u rn em p l o y eeLi s t .s tr e a m () .ma p ( e - > mo d e l M a p p e r .ma p ( e , Em p l o y eeD T O . cl a s s )) .c o l l e c t( Co l l e c t o r s . to L i s t ()); } Ge n e r al - purpo s e pa r a m e t e ri z e d m e tho d publ i c s t a t i c < S , T > Li s t < T > ma p L i s t ( Li s t < S > s o u r c e , Cl a s s < T > ta rg e t C l a s s ) { r e t u rn so u r c e . s t r e a m () .ma p ( e n ti ty - > mo d e l M a p p e r .ma p ( e n t i t y , ta rg e t C l a s s )) .c o l l e c t( Co l l e c t o r s . to L i s t ()); } @ Ge t Ma p p i n g ( \"\" ) publ i c Li s t < Em p l o y eeD T O > ge t E m p l o y e e s () { Li s t < Em p l o y ee > em p l o y eeLi s t = re p o s i t o r y .f i n d A l l (); r e t u rn r e t u rn ma p L i s t ( em p l o y eeLi s t , Em p l o y eeO f f i c eD T O . cl a s s ); } Co n v er t D T O t o E n ti ty @G e t t e r @S e t t e r @ N o A r g s C o ns t r uc t o r @ A l l A r g s C o ns t r uc t o r publ i c c l a s s E m pl o y e e D T O { pr i v a t e In t e g e r id ; pr i v a t e S t r i ng las tN am e ; pr i v a t e S t r i ng fi r s t N a me ; pr i v a t e S t r i ng e x t e ns i o n ; pr i v a t e S t r i ng em ail ; pr i v a t e S t r i ng j o bT i t l e ; pr i v a t e S t r i ng of f i c e Id ; } @ P o s t M a ppi ng ( \"\" ) publ i c E m pl o y e e cr ea t e ( @ R e que s t B o dy E m pl o y e e D T O ne w E m pl o y e e ) { E m pl o y e e e m pl o y e e = m o de l M a ppe r .m a p ( ne w E m pl o y e e , E m pl o y e e . clas s ); r e t ur n r e po s i t o r y . s a v e A ndF l us h ( e m pl o y e e ); } @E n t i t y @T a b l e (na m e = \"em p l o y ees \" ) publ i c c l a s s Em p l o y e e { @I d @Co l u m n (na m e = \" em p l o y eeN u m b er \" , n u l l a b l e = fa l s e ) pr i v a t e In t e g e r id ; @Co l u m n (na m e = \" las t Nam e \" , n u l l a b l e = fa l s e , l e n g t h = 50 ) pr i v a t e St r i n g las t Nam e ; Re q u e s t E x a m p l e E x e r c i se Ma ppi ng L i s ts w i th Mo de l Ma ppe r Li s t< Em pl o y e e D T O > dt o s = em p l o y ees .s t r e a m ( ) .m a p ( em p l o y ee - > mo d e lM a p p e r .m a p ( em p l o y ee , Em pl o y e e D T O . cl as s )) .c o l l e c t ( Co l l e c t o r s . t o L i s t ()); @ Ge t Ma p p i n g ( \"\" ) publ i c Li s t < Em p l o y eeD T O > ge t E m p l o y e e s () { Li s t < Em p l o y ee > em p l o y eeLi s t = re p o s i t o r y .f i n d A l l (); r e t u rn em p l o y eeLi s t .s tr e a m () .ma p ( e - > mo d e l M a p p e r .ma p ( e , Em p l o y eeD T O . cl a s s )) .c o l l e c t( Co l l e c t o r s . to L i s t ()); } Ge n e r al - purpo s e pa r a m e t e ri z e d m e tho d publ i c s t a t i c < S , T > Li s t < T > ma p L i s t ( Li s t < S > s o u r c e , Cl a s s < T > ta r g e t C l a s s , Mo d e l Ma p p e r mo d e l Ma p p e r ) { re t u r n so u r c e .s tr e a m () .m a p ( e n ti ty - > mo d e l Ma p p e r .m a p ( e n t i t y , ta r g e t C l a s s )) .c o l l e c t( Co l l ec t o r s . to L i s t ()); } @ G e t M a ppi ng ( \"\" ) publ i c Li s t < E m pl o y e e D T O > g e t E m pl o y e e s () { Li s t < E m pl o y e e > e m pl o y e e L i s t = r e po s i t o r y . f i ndA l l (); r e t ur n r e t ur n m a pL i s t ( e m pl o y e e L i s t , E m pl o y e e O f f i c e D T O . clas s , m o de l M a ppe r ); } G e n e r i c P a g e D T O E x a m p l e • @G e t t er @S e t t er @ No A r g s C o n s t r u c t o r @ Al l Ar g s C o n s t r u c t o r publ i c c l a s s Pa g e D T O < T > { pr i v a t e Li s t < T > co n t e n t ; pr i v a t e Bo o l e a n las t ; pr i v a t e Bo o l e a n fir s t ; pr i v a t e In t e g e r to t a l P a g e s ; pr i v a t e In t e g e r to t a l E l e m e n t s ; pr i v a t e In t e g e r si z e ; @ Js on I g n or e pr i v a t e In t e g e r num be r ; publ i c In t e g e r ge t P a ge () { re t u r n num be r ; } } { \"c o n t e n t \": [ { \"p r o d u c t C o d e \": \"S 1 0 _ 1 6 7 8 \", \"p r o d u c t N a m e \": \"1 9 6 9 H a r l e y Da v i d s o n Ul t i m a t e C h o p p e r \", \"p r o d u c t L i n e \": \"M o t o r c y c l e s \", \"p r o d u c t S c a l e \": \"1 : 1 0 \", \"p r i c e \": 9 5 . 7 }, : : { \"p r o d u c t C o d e \": \"S 1 0 _ 1 9 4 9 \", \"p r o d u c t N a m e \": \"1 9 5 2 A l p i n e R e n a u l t 1 3 0 0 \", \"p r o d u c t L i n e \": \"C l a s s i c C a r s \", \"p r o d u c t S c a l e \": \"1 : 1 0 \", \"p r i c e \": 2 1 4 . 3 } ], \"f i r s t \": t r u e , \"t o t a l P a g e s \": 1 2 , \"t o t a l E l e m e n t s \": 1 1 1 , \"s i z e \": 1 0 , \"p a g e \": 0 } Cr ea t e S i n gl e t o n Li s t M a p p er S e r v i ce publ i c c l a s s Li s t M a p p e r { pr i v a t e s t a t i c f i na l Li s t M a p p e r lis t M appe r = ne w Li s t M a p p e r (); pr i v a t e Li s t M a p p e r () { } publ i c < S , T > Li s t < T > ma p L i s t ( Li s t < S > s o u r c e , Cl a s s < T > ta r g e t C l a s s , Mo d e l Ma p p e r mo d e l Ma p p e r ) { re t u r n so u r c e .s tr e a m (). m a p(e n t i t y - > mo d e l Ma p p e r .m a p ( e n t i t y , ta r g e t C l a s s )) .c o l l e c t( Co l l ec t o r s . to L i s t ()); } publ i c s t a t i c Li s t M a p p e r ge t I n s t a n c e () { re t u r n lis t M appe r ; } publ i c < S , T > Pa g e D T O < T > to P a g e D T O ( Pa g e < S > s o u r c e , Cl a s s < T > ta r g e t C l a s s , Mo d e l Ma p p e r mo d e l Ma p p e r ) { Pa g e D T O < T > pa g e = mo d e l Ma p p e r . ma p ( s o u r c e , Pa g e D T O . clas s ); pa g e .se tC o n t e n t ( ma p L i s t ( so u r c e . g e tC o n t e n t ( ) , ta r g e t C l a s s , mo d e l Ma p p e r )); re t u r n pa g e ; } } pa c k a g e si t.i n t2 0 4 .c l a ssi c m o d e l sse r v i c e .u ti l s Cr ea t e Em pl o y e e D T O & Mo di f y A ppl i c a ti o n c o n f i g @ G e t t e r @ S e t t e r @ N o A r g s C o n s t ru c t o r @ A l l A r g s C o n s t ru c t o r publ i c c l a s s Em p l o y eeD T O { p ri v a t e I n t e g e r id ; p ri v a t e S t ri n g las t Nam e ; p ri v a t e S t ri n g fi r s t N a m e ; p ri v a t e S t ri n g ex t e n s i o n ; p ri v a t e S t ri n g em a i l ; p ri v a t e S t ri n g jo bT it le ; p ri v a t e S t ri n g of f ice Id ; } @ C o n f i g ur a t i o n publ i c c l a s s A ppl i c a t i o nC o n f i g { : @Be a n publ i c L i s t M a ppe r l i s t M a ppe r () { r e t ur n L i s t M a ppe r . ge t I ns t anc e (); } } @E n t i t y @T a b l e (na m e = \"o f f i c es \" ) publ i c c l a s s Of f i c e { @I d @Co l u m n (na m e = \" of fi ce C od e \" ) pr i v a t e St r i n g id ; @Co l u m n (na m e = \"c i t y \" , n u l l a b l e = fa l s e , l e n g t h = 50 ) C r e a t e E m p l o y e e C o n t r o l l e r & S e r v i ce @ Au t o w i r e d pr i v a t e Mo d e l Ma p p e r mo d e l Ma p p e r ; @ Au t o w i r e d pr i v a t e Li s t M a p p e r lis t M ap p e r ; : @ Po s t M a p p i n g ( \"\" ) publ i c Em p l o y e e cr e a t e ( @ Re q u e s t B o d y Em p l o y e e D T O ne w E m pl o y e e ) { Em p l o y e e e = mo d e l Ma p p e r .m a p ( ne w E m pl o y e e , Em p l o y e e . clas s ); re t u r n em p l o y eeS er v i c e .sa v e (e ); } @S er v i c e publ i c c l a s s Em p l o y e e S e r v i c e { @ Au t o w i r e d pr i v a t e Em p l o y e e R e p o si t o r y re p o s i t o r y ; publ i c Em p l o y e e sa v e ( Em p l o y e e em p l o y ee ) { re t u r n re p o s i t o r y .sa v e A n d F l u sh ( em p l o y ee ); } }","libVersion":"0.3.1","langs":""}