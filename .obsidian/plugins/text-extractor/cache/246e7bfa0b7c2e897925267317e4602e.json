{"path":"Lecture Kmutt/INT210-LAB/materials/2023-INT210-07 Integrating Frontend and Backend.pdf","text":"INT 2 1 0 AR C H IT E C T U R E , INT E GR AT IO N, D E P LO Y M E NT LAB - 07 I n t eg r a t in g F r o n t en d a n d B a c k en d Ol a r n R o j a n a po r n pu n Th u rs d ay , 0 7 Marc h 2024 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T R ev iew F r o n t en d STE PS 1. In s t a ll Nod e . js LT S ( v 2 0 . x ) 2. Cr e a t e pro j e c t ( npm create vue@latest ) 3. In s t a ll d e p e n d e n c ie s ( npm install ) 4. R un pro j e c t in d e v m o d e ( npx vite -- host lvm xxxxx .sit.kmutt.ac.th ) 5. B uild s t a t ic w e b ( npm run build ) 6. De p lo y w it h N g in x 1. Cr e a t e n g i n x c o n f f i l e i n / e t c / n g i n x/ s i t e s - av ai l ab l e w i t h s p e c i f i e d p ort an d root 2. Cr e a t e s y mb o l i c l i n k t o t h i s c o n f f i l e i n / e t c / n g i n x/ s i t e s - en a b l ed 3. Te s t n g i n x c on f i g ( sudo nginx - t ) 4. Re l o ad n g i n x ( sudo nginx – s reload ) 5. Te s t w i t h c u rl 7. Allow sp e c ifie d po rt o n F ire w a ll 2 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T R ev iew B a c k en d STE PS 1. In s t a ll O p e n JD K 1 7 ( sudo apt install - y openjdk - 17 - jre - headless ) 2. S e t J A V A _H O M E ( sudo echo JAVA_HOME=/ usr /lib/ jvm /java - 17 - openjdk - amd64/ >> / etc /environment ) 3. Cr e a t e pro j e c t ( curl - G https:// start.spring.io / starter.zip - d dependencies=web - d type=maven - project - o demo. zip ) 4. Allow p or t 8 0 8 0 / t c p on F ir e wall 5. R un p r o j e c t w it h M a v e n ( ./mvnw spring - boot:run ) 6. B uild . j a r f ile ( ./mvnw clean package ) 7. R un .ja r f ile ( java – jar target/*.jar ) 3 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T Ba c k - en d A r c h it ec t u r e 4 Br o ws er Fr o nt - en d fe t c h Jav a w e b ap p l i c at i o n s e rv e r ht m l/ c s s / j s .j ar St a t i c we b s e r ve r :3 0 0 0 :8 0 8 0 /a p i /d a t e /d is t bu ild Fir e w a ll lvm [ xxy y y ]. s i t . k m ut t . a c . t h /ta r g e t bu ild ru n ht t p : 3 0 0 0 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T D ep lo y D a t eA P I ( B a c k en d ) 1. C l o n e D at e A P I r e p o s i t o r y ( git clone https://github.com/olarnr/int210 - dateapi.git dateapi ) 2. R u n p r o j e c t w i t h M av e n 3. Te s t w i t h c u rl ( curl localhost:8080/ api /date ) 4. B u i l d . j ar fi l e 5. R u n . j ar fi l e 6. Te s t w i t h c u rl ( curl localhost:8080/ api /date ) 7. Te s t o n b ro w s e r 5 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T D ep lo y f et c h - d a t e ( F r o n t en d ) 1. Cl o n e f e t c h - d at e r e p o s i t o r y ( git clone https://github.com/olarnr/int210 - fetchdate.git fetchdate ) 2. Mo d if y A P I _U R L t o h t t p : / / l v m 6 5 9 9 9 . s i t . k m u t t . ac . t h : 8 0 8 0 / ap i / d at e in sr c /A p p . vu e 3. I n s t al l d e p e n d e n c i e s 4. Ru n p r o j e ct i n d e v m o d e 5. B u i l d s t at i c we b 6. Dep l oy w i t h Ngin x 6 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T Cr o ss - O r ig in R es o u r c e S h a r in g ❍ M o d if y @ C r o s s O r ig in t o a llo w a c c es s f r o m y o u r v m p o r t 3 0 0 0 a n d 5 1 7 3 7 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T A s s ig n m en t 4 8 En s u r e t h a t J a v a / T o m ca t i s r u n n i n g a ft e r l o g o u t ! INT 2 1 0 AR C H IT E C T U R E , INT E GR AT IO N, D E P LO Y M E NT LAB - 07 D ep lo y S p r in g B o o t w it h My sq l Ol a r n R o j a n a po r n pu n Th u rs d ay , 0 7 Marc h 2 0 2 4 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T A r c h it ec t u r e https:// github.com / olarnr /int210 - studentproj.git 10 Br o ws er/api/students Fir e w a ll lvm [ xxy y y ]. s i t . k m ut t . a c . t h db s c rip t . s q l : 3306 exec u t e Ba c k - en d Jav a w e b ap p l i c at i o n s e rv e r .j ar :8 0 8 0 /ta r g e t bu ild ru n :3 3 0 6 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T D ep lo y M y S Q L - 1 ❍ I n s t al l mys q l - se r v e r an d pw ge n ❍ G e n e r at e r an d o m p as s w o r d u s i n g p w g e n ( pwgen - sy 10 ) ❍ A l t e r m y s q l r o o t u s e r t o au t h e n t i c at e u s i n g ‘ m y s q l _n at i v e _p as s w o r d ’ w i t h t h e r an d o m p as s w o r d . Do n o t f o rg et t o rec o rd t h e p a s s w o rd s ec u rely. ❍ S e c u r e M y s q l i n s t al l at i o n w i t h ‘ m y s q l _s e c u r e _i n s t al l at i o n ’ ❍ Re m o v e a n o n y m o u s u se r s, Dis a llo w ro o t lo g in rem o t ely, Re m o v e te s t d atab as e and ac c e s s to it 11 http s:/ / w w w .d ig ita lo c e a n.c o m / c o m m u nity / tu to r ia ls/ ho w - to - insta ll - my s q l - on - ub un t u - 22 - 04 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T D ep lo y My S Q L - 2 ❍ Te s t t h e c o n n e c t i o n w i t h t e l n e t ❍ C r e at e a d at ab as e ‘ school ’ ❍ C r e at e ‘ dev1 ’ u s e r w i t h t h e p as s w o r d ‘ x_eRT2vv4 ’ an d al l pr iv ile ge s on ‘ school ’ 12 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T 13 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T D ep lo y M y S Q L - 3 ❍ Ru n st u de n t db / db sc r ip t . sq l to c r e ate s tu d e nt tab le ❍ Ad d d ata to s c ho o l. s tu d e nt tab le u s ing red irec t ion ❍ View d a t a in sc h o o l. st u de n t tab le 14 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T 15 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T S t u d en t A P I 16 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T B u ild . j a r f ile ❍ NB : mav e n w ill r u n te s t st a g e < < n e e d t o b e a b le t o c o n n e c t t o db se r v e r du r in g b u ild 17 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T C o n f ig / et c / h o s t s ❍ We n e e d t o e n s u r e t h at m y s q l u r l i s ac c e s s i b l e f r o m h o s t an d m y s q l d i s r u n n i n g ❍ m ay c o n f i g / e t c / h o s t s t o ad d ‘ d b s e r v e r ’ 18 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T U s e E n v ir o n m en t V a r ia b les ❍ M ay u s e m y s q l _u r l e n v i r o n m e n t v ar i ab l e ( s p e c i f i e d i n ap p l i c at i o n . p r o p e r t i e s ) ❍ M u s t ex p o r t t h e v a r ia b les f o r J a v a t o u s e! 19 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T Spe ci fy e n v i r o n m e n t v a r i a bl e va lu e in c om m a n d lin e ❍ M ay s p e c i f y t h e e n v v ar i ab l e i n c o m m an d l i n e 20 IN T 2 1 0 A R C H IT E C T UR E , IN T E G R A T ION , DE PL OYM E N T C a ll s t u d en t A P I 21","libVersion":"0.3.1","langs":""}